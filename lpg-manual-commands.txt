# LPG Manual Setup Commands
# Execute these commands manually after SSH login

# 1. Login as root
ssh root@192.168.234.2
# Password: orangepi

# 2. Create lacissystem user (if not exists)
useradd -m -s /bin/bash lacissystem
echo 'lacissystem:lacis12345@' | chpasswd
usermod -aG sudo lacissystem

# 3. Create directories
mkdir -p /opt/lpg /etc/lpg /var/log/lpg /var/ftp/lpg
chown -R lacissystem:lacissystem /opt/lpg /etc/lpg /var/log/lpg /var/ftp/lpg

# 4. Exit and transfer files
exit

# 5. Copy deployment package (from local machine)
scp lpg-deploy-v2.tar.gz lacissystem@192.168.234.2:/home/lacissystem/

# 6. Login as lacissystem
ssh lacissystem@192.168.234.2
# Password: lacis12345@

# 7. Extract and run setup
tar -xzf lpg-deploy-v2.tar.gz
chmod +x scripts/*.sh
sudo ./scripts/setup-lpg.sh

# 8. After setup, verify services
sudo systemctl status caddy
sudo systemctl status vsftpd

# 9. Test access
curl -k https://localhost:8443/health