# LPG ポートフォワーディング設定手順

## 問題
現在、`http://akb001yebraxfqsm9y.dyndns-web.com/lacisstack/boards` にアクセスできない

## 原因
1. **ポートフォワーディング未設定**: 外部からLPG (192.168.234.2)へのアクセスが転送されていない
2. **Orange Pi 5 Plusのサービス未起動**: 192.168.234.10:8080でサービスが動いていない

## 解決手順

### 1. Omadaでのポートフォワーディング設定

Omadaコントローラーで以下の設定が必要：

```
外部ポート80 → 192.168.234.2:80 (LPG)
外部ポート443 → 192.168.234.2:443 (LPG) ※将来のHTTPS用
```

### 2. 現在のネットワーク構成

```
インターネット
    ↓
[akb001yebraxfqsm9y.dyndns-web.com]
    ↓
ER605 (WAN)
    ↓ ポートフォワーディング必要
    ↓ 80 → 192.168.234.2:80
    ↓
VLAN555 (192.168.234.0/24)
    ├─ LPG (192.168.234.2)
    │   └─ /lacisstack/boards → 192.168.234.10:8080
    │
    └─ Orange Pi 5 Plus (192.168.234.10)
        └─ :8080 (要起動)
```

### 3. テスト手順

#### 内部からのテスト
```bash
# LPGへの直接アクセス
curl http://192.168.234.2/lacisstack/boards

# 管理画面の確認
http://192.168.234.2:8443
```

#### 外部からのテスト（ポートフォワーディング設定後）
```bash
# DDNSドメイン経由
curl http://akb001yebraxfqsm9y.dyndns-web.com/lacisstack/boards
```

### 4. Orange Pi 5 Plusの設定

現在アクセスできないため、以下の対応が必要：
1. コンソール接続でのアクセス
2. 初期パスワードの確認
3. Webサービスの起動

### 5. 暫定対応

Orange Pi 5 Plusが設定できるまで、LPGで簡易的なテストページを表示：

```python
# LPGのプロキシハンドラーを修正して、
# 503エラーの代わりにテストメッセージを表示
```

## 必要な作業

1. **Omada管理者による作業**
   - ポート80のフォワーディング設定
   - 設定後の動作確認

2. **Orange Pi 5 Plusの設定**
   - 物理アクセスによる初期設定
   - Webサービスの起動

3. **動作確認**
   - 内部ネットワークからの確認
   - 外部（インターネット）からの確認